webpackJsonp([30],{"7i6d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("lC5x"),r=n.n(a),s=n("J0Oq"),i=n.n(s),c={components:{GoogleRecaptcha:n("RWF8").a},data:function(){return{sending:!1}},methods:{send:function(){var e=this;return i()(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sending=!0,t.next=3,e.$refs.recaptcha.getToken();case 3:return n=t.sent,t.prev=4,t.next=7,e.$apiPost("/user/send-activation-email",{email:e.$state.user.email,recaptcha:n});case 7:e.$notifySuccess("Sent Successfully"),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(4),t.t0;case 13:return t.prev=13,e.sending=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[4,10,13,16]])}))()},changeEmail:function(){var e=this;this.$prompt("Please enter your email",{inputValue:this.$state.user.email}).then(function(){var t=i()(r.a.mark(function t(n){var a=n.value;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$apiPost("/user/update-email",{email:a});case 2:e.$notifySuccess("Your email has been changed successfully"),e.$state.user.email=a;case 4:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())}},mounted:function(){var e=this;return i()(r.a.mark(function t(){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$route.query.token,e.$state.user.email_confirmed||!n){t.next=16;break}return a=e.$loading({text:"Confirming email"}),t.prev=3,t.next=6,e.$apiPost("/user/active-email",{token:n});case 6:e.$notifySuccess("Confirmed Successfully"),e.$state.user.email_confirmed=!0,t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(3),t.t0;case 13:return t.prev=13,a.close(),t.finish(13);case 16:case"end":return t.stop()}},t,e,[[3,10,13,16]])}))()}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ActiveEmail"},[n("div",{staticClass:"container"},[n("div",{staticClass:"content-card"},[n("div",{staticClass:"text-center"},[e.$state.user.email_confirmed?[n("h1",[e._v("Thank You")]),n("div",{staticClass:"_1"},[e._v("You email("+e._s(e.$state.user.email)+") has been confirmed.")])]:[n("h1",[e._v("Confirm Your Email")]),n("div",{staticClass:"_1"},[n("p",[e._v("Prease check your inbox "),n("i",[n("b",[e._v(e._s(e.$state.user.email))])]),e._v(" for a confirmation email. Clink the link in the email to confirm your email address.")]),n("p",[e._v("If your email is not right, you can "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){t.preventDefault(),e.changeEmail(t)}}},[e._v("click here")]),e._v(" to change it.")])]),n("GoogleRecaptcha",{ref:"recaptcha"}),n("el-button",{staticClass:"send-btn btn btn-primary btn-lg",attrs:{loading:e.sending},on:{click:e.send}},[e._v("Re-send confirmation email")])]],2)])])])},staticRenderFns:[]},u=n("8AGX")(c,o,!1,function(e){n("vQT8")},null,null);t.default=u.exports},vQT8:function(e,t){}});