webpackJsonp([4],{"2P8z":function(e,t,a){var s=a("OtAM"),l=a("DGQG"),i=a("K0/C").f;e.exports=function(e){return function(t){for(var a,r=l(t),n=s(r),o=n.length,u=0,d=[];o>u;)i.call(r,a=n[u++])&&d.push(e?[a,r[a]]:r[a]);return d}}},"4gVy":function(e,t){},"8m0l":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("3cXf"),l=a.n(s),i=a("MgeX"),r=a.n(i),n=a("v/PK"),o=a("6Tc7"),u=a("L/hj"),d=a("03sz"),c={components:{ImageUploader:n.a,DatePicker:o.a},data:function(){return{dateFormat:"MMM dd yyyy",fields:{avatar:{rules:"required"},firstName:{rules:"required",text:"First Name"},middleName:{},lastName:{rules:"required",text:"Last Name"},gender:{rules:"required",text:"Gender"},birthday:{rules:"required",type:"date",text:"Birthday"},nationality:{rules:"required",text:"Nationality"},countryOfResidence:{rules:"required",text:"Country of Residence"},email:{rules:"required|email",text:"Email"},phone:{rules:"required|numeric",text:"Phone"},passportInfo:{rules:"required",text:"Passport Information",type:"json",value:{number:null,issuedCountry:null,expiryDate:null}},emergencyContactPerson:{rules:"required",type:"json",value:[{name:null,relationship:null,tel:null},{name:null,relationship:null,tel:null}]},declared:{rules:"required|accepted"}},validation:{},saving:!1}},computed:{ecp:{get:function(){return this.fields.emergencyContactPerson.value},set:function(e){this.fields.emergencyContactPerson.value=e}}},methods:{save:function(){var e=this;this.saving||(this.saving=!0,this.validation.check().then(function(t){if(r()(e.fields.passportInfo.value).some(function(e){return!e}))e.$alert("Passport info is required");else{if(!r()(e.fields.emergencyContactPerson.value[0]).some(function(e){return!e})){r()(e.fields).forEach(function(e){switch(e.type){case"date":t[e.name]=parseInt(Object(u.d)(t[e.name]).getTime()/1e3);break;case"json":t[e.name]=l()(t[e.name])}});var a={};for(var s in t)a[Object(d.m)(s)]=t[s];return e.$http.post(e.$state.urls.api+"/student_profile",a).then(function(t){t.data;e.$alert("Saved Successfully")},function(t){console.log(t),e.$alert("Save Failed. "+(t.response.data.message||""))})}e.$alert("Emergency contact person 1 is required")}},function(t){e.$alert(e.validation.getFirstError().message)}).then(function(){e.saving=!1}))}},mounted:function(){var e=this;this.$validate(this.validation,this.fields),window.StudentProfile={fill:function(){r()(e.fields).forEach(function(e){if("date"===e.type)e.value="2018-01-01";else if("declared"===e.name)e.value=!0;else if("passportInfo"===e.name)e.value={number:"safsagsa",issuedCountry:"asfgasg",expiryDate:"2018-01-01"};else if("json"===e.type)for(var t in e.value[0])e.value[0][t]="anything";else e.value="anything"})}}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"StudentProfile"},[a("div",{staticClass:"container"},[a("div",{staticClass:"content-card"},[a("h1",{staticClass:"content-card-title"},[e._v("Profile")]),a("form",{staticClass:"content-card-body flex",on:{submit:function(t){t.preventDefault(),e.save(t)}}},[a("div",{staticClass:"form-left"},[a("div",{staticClass:"_1"},[a("div",{staticClass:"avatar mrm"},[a("ImageUploader",{staticClass:"mrl",attrs:{aspectRatio:1,title:"Upload Photo"},model:{value:e.fields.avatar.value,callback:function(t){e.$set(e.fields.avatar,"value",t)},expression:"fields.avatar.value"}})],1),a("div",{staticClass:"avatar-right"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Name on Passport")]),a("div",{staticClass:"flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.firstName.value,expression:"fields.firstName.value"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"* First Name"},domProps:{value:e.fields.firstName.value},on:{input:function(t){t.target.composing||e.$set(e.fields.firstName,"value",t.target.value)}}}),a("div",{staticClass:"space"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.middleName.value,expression:"fields.middleName.value"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Middle Name"},domProps:{value:e.fields.middleName.value},on:{input:function(t){t.target.composing||e.$set(e.fields.middleName,"value",t.target.value)}}}),a("div",{staticClass:"space"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.lastName.value,expression:"fields.lastName.value"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"* Last Name"},domProps:{value:e.fields.lastName.value},on:{input:function(t){t.target.composing||e.$set(e.fields.lastName,"value",t.target.value)}}})]),a("div",{staticClass:"flex mtm"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.fields.gender.required?"* ":"")+e._s(e.fields.gender.text))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.fields.gender.value,expression:"fields.gender.value"}],staticClass:"form-control input-lg",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.fields.gender,"value",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:null}},[e._v("Please select")]),e._l(e.$state.genderOptions,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.text))])})],2)]),a("div",{staticClass:"space"}),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.fields.birthday.required?"* ":"")+e._s(e.fields.birthday.text))]),a("DatePicker",{attrs:{format:e.dateFormat},model:{value:e.fields.birthday.value,callback:function(t){e.$set(e.fields.birthday,"value",t)},expression:"fields.birthday.value"}})],1),a("div",{staticClass:"space"}),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.fields.nationality.required?"* ":"")+e._s(e.fields.nationality.text))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.fields.nationality.value,expression:"fields.nationality.value"}],staticClass:"form-control input-lg",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.fields.nationality,"value",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:null}},[e._v("Please select")]),a("option",{attrs:{value:"USA"}},[e._v("USA")])])])])])])]),a("div",{staticClass:"flex"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.fields.countryOfResidence.required?"* ":"")+e._s(e.fields.countryOfResidence.text))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.fields.countryOfResidence.value,expression:"fields.countryOfResidence.value"}],staticClass:"form-control input-lg",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.fields.countryOfResidence,"value",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:null}},[e._v("Please select")]),a("option",{attrs:{value:"USA"}},[e._v("USA")])])]),a("div",{staticClass:"space"}),a("div",{staticClass:"form-group flex-1"},[a("label",[e._v(e._s(e.fields.email.required?"* ":"")+e._s(e.fields.email.text))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.email.value,expression:"fields.email.value"}],staticClass:"form-control input-lg",attrs:{type:"text"},domProps:{value:e.fields.email.value},on:{input:function(t){t.target.composing||e.$set(e.fields.email,"value",t.target.value)}}})]),a("div",{staticClass:"space"}),a("div",{staticClass:"form-group phone"},[a("label",[e._v(e._s(e.fields.phone.required?"* ":"")+e._s(e.fields.phone.text))]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-addon"},[e._v("+1(917)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.phone.value,expression:"fields.phone.value"}],staticClass:"form-control input-lg",attrs:{type:"text"},domProps:{value:e.fields.phone.value},on:{input:function(t){t.target.composing||e.$set(e.fields.phone,"value",t.target.value)}}})])])]),a("div",{staticClass:"form-group passport"},[a("label",[e._v(e._s(e.fields.passportInfo.required?"* ":"")+e._s(e.fields.passportInfo.text))]),a("div",{staticClass:"flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.passportInfo.value.number,expression:"fields.passportInfo.value.number"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Passport Number"},domProps:{value:e.fields.passportInfo.value.number},on:{input:function(t){t.target.composing||e.$set(e.fields.passportInfo.value,"number",t.target.value)}}}),a("div",{staticClass:"space"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.passportInfo.value.issuedCountry,expression:"fields.passportInfo.value.issuedCountry"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Issued Country"},domProps:{value:e.fields.passportInfo.value.issuedCountry},on:{input:function(t){t.target.composing||e.$set(e.fields.passportInfo.value,"issuedCountry",t.target.value)}}}),a("div",{staticClass:"space"}),a("DatePicker",{staticClass:"expiry-date",attrs:{placeholder:"Expiry Date",format:e.dateFormat},model:{value:e.fields.passportInfo.value.expiryDate,callback:function(t){e.$set(e.fields.passportInfo.value,"expiryDate",t)},expression:"fields.passportInfo.value.expiryDate"}})],1)])]),a("div",{staticClass:"form-right"},[a("div",{staticClass:"form-group"},[a("label",[e._v("* Emergency Contact Person 1")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ecp[0].name,expression:"ecp[0].name"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.ecp[0].name},on:{input:function(t){t.target.composing||e.$set(e.ecp[0],"name",t.target.value)}}}),a("div",{staticClass:"flex mtm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ecp[0].relationship,expression:"ecp[0].relationship"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Relationship"},domProps:{value:e.ecp[0].relationship},on:{input:function(t){t.target.composing||e.$set(e.ecp[0],"relationship",t.target.value)}}}),a("div",{staticClass:"space"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ecp[0].tel,expression:"ecp[0].tel"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Tel"},domProps:{value:e.ecp[0].tel},on:{input:function(t){t.target.composing||e.$set(e.ecp[0],"tel",t.target.value)}}})])]),a("div",{staticClass:"form-group mtm"},[a("label",[e._v("Emergency Contact Person 2")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ecp[1].name,expression:"ecp[1].name"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.ecp[1].name},on:{input:function(t){t.target.composing||e.$set(e.ecp[1],"name",t.target.value)}}}),a("div",{staticClass:"flex mtm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ecp[1].relationship,expression:"ecp[1].relationship"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Relationship"},domProps:{value:e.ecp[1].relationship},on:{input:function(t){t.target.composing||e.$set(e.ecp[1],"relationship",t.target.value)}}}),a("div",{staticClass:"space"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ecp[1].tel,expression:"ecp[1].tel"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Tel"},domProps:{value:e.ecp[1].tel},on:{input:function(t){t.target.composing||e.$set(e.ecp[1],"tel",t.target.value)}}})])]),a("div",{staticClass:"declare mtm flex"},[a("Checkbox",{staticClass:"flex-0",model:{value:e.fields.declared.value,callback:function(t){e.$set(e.fields.declared,"value",t)},expression:"fields.declared.value"}}),e._m(0)],1),e._m(1)])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mlm"},[t("p",[this._v("I hereby declare that all information provided above is true and accurate.")]),t("p",[this._v("I agree to "),t("a",{attrs:{href:"#"}},[this._v("Borocol’s Terms of Service")]),this._v(" and undestating "),t("a",{attrs:{href:"#"}},[this._v("the purpose of collecting personal data")]),this._v(".")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mtm"},[t("button",{staticClass:"btn btn-primary btn-lg btn-block"},[this._v("Save")])])}]},v=a("8AGX")(c,p,!1,function(e){a("4gVy")},null,null);t.default=v.exports},MgeX:function(e,t,a){e.exports={default:a("hdvR"),__esModule:!0}},hdvR:function(e,t,a){a("j0bN"),e.exports=a("UusJ").Object.values},j0bN:function(e,t,a){var s=a("MITN"),l=a("2P8z")(!1);s(s.S,"Object",{values:function(e){return l(e)}})}});
//# sourceMappingURL=4.5d9c6f02feed5950f9a2.js.map